<div class="row align-items-center line-divider-bottom">
  <div class="col ml-auto">
    <h1 class="display-4">Imprimir formulario por línea</h1>
  </div>
</div>

<div class="margin-top-15">
  <h3>Filtros de búsqueda
    <button class="signo-ayuda" ngbTooltip="Los campos marcados con (*) son obligatorios."> ?</button>
  </h3>
</div>
<form [formGroup]="form" novalidate class="card-pane margin-top-15">
  <div class="row">
    <div class="col justify-content-center" [errorFeedback]="form.get('lineaId')">
      <label for="cb_lineas">Línea<span class="obligatorio"> (*)</span></label>
      <select class="form-control" id="cb_lineas" formControlName="lineaId">
        <option value="" disabled>Seleccione...</option>
        <option *ngFor="let linea of lineas" [ngValue]=linea.id> {{linea.descripcion}}
        </option>
        <control-messages [control]="form.get('lineaId')"></control-messages>
      </select>
    </div>
  </div>
  <div class="row row-section">
    <div class="col justify-content-center" [errorFeedback]="form.get('detalleLineaId')">
      <label for="cb_detalle_lineas">Detalle de línea<span class="obligatorio"> (*)</span></label>
      <select class="form-control" id="cb_detalle_lineas" formControlName="detalleLineaId">
        <option value="" disabled>Seleccione...</option>
        <option *ngFor="let detalle of detalles" [ngValue]=detalle.idDetalleLinea> {{detalle.visualizacion}}
        </option>
        <control-messages [control]="form.get('detalleLineaId')"></control-messages>
      </select>
    </div>
  </div>
</form>

<div class="row acciones">
  <div class="col">
    <div class="pull-right">
      <a class="btn btn-secondary" [hidden]="procesando || !reporteSource" (click)="restablecer()">RESTABLECER
      </a>
      <button [disabled]="!form.valid" [hidden]="procesando || reporteSource" class="btn btn-primary"
        (click)="imprimir()">
        <i class="material-icons icono-accion alinear-texto-con-icono">print</i>
        <span class="alinear-texto-con-icono">IMPRIMIR</span>
      </button>
    </div>
  </div>
</div>

<iframe *ngIf="reporteSource" [src]="reporteSource" width="100%" height="700px">
</iframe>
